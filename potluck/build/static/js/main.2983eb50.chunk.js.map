{"version":3,"sources":["styles/StyledHeader.js","components/Header.js","components/PrivateRoute.js","components/Potluck.js","utils/axiosWithAuth.js","styles/StyledPotluck.js","components/PotluckList.js","components/CreatePotluck.js","components/LoginSchema.js","components/Login.js","validation/formSchema.js","styles/StyledRegistration.js","components/Registration.js","components/PotluckDetails.js","App.js","serviceWorker.js","index.js"],"names":["HeaderStyle","styled","div","Header","onClick","localStorage","removeItem","window","location","reload","className","to","PrivateRoute","Component","component","rest","render","props","getItem","Potluck","potluck","push","useHistory","id","name","host","date","time","axiosWithAuth","token","console","log","axios","create","headers","Authorization","baseURL","PotluckListDiv","PotluckDiv","PotluckList","useState","potluckList","setpotluckList","useEffect","get","then","res","data","catch","err","length","map","x","key","nextPotluck","initialFoodItem","item_name","claimed","potluck_id","firstGuest","guest_name","CreatePotluck","setPotluck","nextFoodItem","setNextFoodItem","foodItems","setFoodItems","guest","setGuest","guestList","setGuestList","addFoodtoPotluck","potluckId","newList","promises","post","Promise","all","results","i","addGuesttoPotluck","newGuestList","JSON","stringify","handleChange","evt","preventDefault","target","value","placeholder","type","onChange","role","aria-label","userId","filter","formSchema","yup","shape","username","required","password","LoginContainer","initialLoginValues","initialLoginErrors","Login","loginValues","setLoginValues","formErrors","setFormErrors","onInputChange","event","validate","valid","errors","getUserData","setItem","min","RegStyles","ErrStyles","initialFormValues","initialFormErrors","initialUsers","Registration","users","setUsers","formValues","setFormValues","disabled","setDisabled","history","inputChange","e","isValid","onSubmit","newUser","Axios","postNewUser","trim","PotluckDetails","items","setItems","guests","setGuests","setClaimed","userIdName","setUserIdName","claimedDict","params","useParams","response","fetchItemDetails","fetchUserNames","Object","values","newDict","itemId","indexOf","put","alert","namesThatHaveClaimed","guestClaimedFood","App","exact","path","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"smCACA,IAAMA,EAAcC,IAAOC,IAAV,KCyBFC,EAtBA,WASf,OACI,kBAACH,EAAD,KACI,6BACA,gDAEA,6BACA,4BAAQI,QAbS,WACjBC,aAAaC,WAAW,SACxBD,aAAaC,WAAW,UACxBD,aAAaC,WAAW,YACxBC,OAAOC,SAASC,WAShB,UACA,kBAAC,IAAD,CAAMC,UAAU,OAAOC,GAAG,iBAA1B,QACA,kBAAC,IAAD,CAAMD,UAAU,OAAOC,GAAG,mBAA1B,qB,QCFOC,EAfM,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,6BACxD,OACI,kBAAC,IAAD,iBACQA,EADR,CAEIC,OAAQ,SAAAC,GAAK,OACTZ,aAAaa,QAAQ,SACjB,kBAACL,EAAcI,GAEf,kBAAC,IAAD,CAAUN,GAAG,gB,OCTlB,SAASQ,EAAT,GAA+B,IAAZC,EAAW,EAAXA,QACtBC,EAASC,cAATD,KAER,OACI,6BACI,4BAAQX,UAAU,MAAMN,QAAS,kBAAMiB,EAAK,YAAD,OAAaD,EAAQG,IAAMH,KACtE,uCACA,4BAAKA,EAAQI,MACb,4BAAKJ,EAAQK,MACb,2BAAIL,EAAQM,KAAK,8BACjB,2BAAIN,EAAQO,KAAK,8BACjB,2BAAIP,EAAQZ,SAAS,gC,qBCZpBoB,EAAgB,WACzB,IAAMC,EAAQxB,aAAaa,QAAQ,SAEnC,OADAY,QAAQC,IAAI,UAAYF,GACjBG,IAAMC,OAAO,CAChBC,QAAS,CACLC,cAAeN,GAEnBO,QAAS,2C,6iBCPjB,IAAMC,EAAiBpC,IAAOC,IAAV,KAadoC,EAAarC,IAAOC,IAAV,KCqEDqC,EAjCK,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACfC,EADe,KACFC,EADE,KAgBtB,OAJAC,qBAAU,WARNf,IACKgB,IAAI,sDACJC,MAAK,SAAAC,GACFJ,EAAeI,EAAIC,SAEtBC,OAAM,SAAAC,GAAG,OAAInB,QAAQC,IAAI,cAK/B,IAEEU,EAAYS,OAMb,kBAACb,EAAD,KAEQI,EAAYU,KAAI,SAAAC,GAAC,OACb,kBAACd,EAAD,CAAYe,IAAKD,EAAE7B,IACf,kBAACJ,EAAD,CAASC,QAASgC,SAT3B,gE,sBC/DTE,EAAc,CAChB9B,KAAM,GACNhB,SAAU,GACVkB,KAAM,GACNC,KAAM,IAGJ4B,EAAkB,CACpBC,UAAW,GACXC,QAAS,EACTC,WAAY,IAGVC,EAAa,CACfC,WAAY,IAwBD,SAASC,IAAiB,IAC7BxC,EAASC,cAATD,KAD4B,EAENmB,mBAASc,GAFH,mBAE7BlC,EAF6B,KAEpB0C,EAFoB,OAGItB,mBAASe,GAHb,mBAG7BQ,EAH6B,KAGfC,EAHe,OAIFxB,mBAAS,IAJP,mBAI7ByB,EAJ6B,KAIlBC,EAJkB,OAKV1B,mBAASmB,GALC,mBAK7BQ,EAL6B,KAKtBC,EALsB,OAMF5B,mBAAS,IANP,mBAM7B6B,EAN6B,KAMlBC,EANkB,KAuC9BC,EAAmB,SAACC,GAGtB,IAAIC,EAAO,YAAOR,GACdS,EAAW,GACfD,EAAQtB,KAAI,SAAAC,GACRA,EAAEM,WAAac,EACfE,EAASrD,KAAKO,IAET+C,KAFS,6DAEkDH,EAFlD,UAEqEpB,GAC9EP,MAAK,SAAAC,GAGF,OAFAhB,QAAQC,IAAIe,EAAK,yBACjBM,EAAE7B,GAAKuB,EAAIC,KAAKxB,GACTuB,EAAIC,KAAKxB,MAEnByB,OAAM,SAAAC,GAAG,OAAInB,QAAQC,IAAI,gBAElC6C,QAAQC,IAAIH,GAAU7B,MAAK,SAAAiC,GACvB,IAAK,IAAIC,EAAE,EAAGA,EAAED,EAAQ5B,OAAQ6B,IAC5BN,EAAQM,GAAGxD,GAAKuD,EAAQC,GAE5Bb,EAAaO,OAIfO,EAAoB,SAACR,GACvB,IAAIS,EAAY,YAAOZ,GACvBvC,QAAQC,IAAI,iBAAmBmD,KAAKC,UAAUF,IAC9C,IAAIP,EAAW,GACfO,EAAa9B,KAAI,SAAAC,GACbsB,EAASrD,KAAKO,IACT+C,KADS,6DACkDH,EADlD,WACsEpB,GAC/EP,MAAK,SAAAC,GAEF,OADAM,EAAE7B,GAAKuB,EAAIC,KAAKxB,GACTuB,EAAIC,KAAKxB,MAEnByB,OAAM,SAAAC,GAAG,OAAInB,QAAQC,IAAI,gBAElC6C,QAAQC,IAAIH,GAAU7B,MAAK,SAAAiC,GACvB,IAAK,IAAIC,EAAE,EAAGA,EAAED,EAAQ5B,OAAQ6B,IAC5BE,EAAaF,GAAGxD,GAAKuD,EAAQC,GAEjCX,EAASa,OAsBXG,EAAe,SAACC,GAClBA,EAAIC,iBACJxB,EAAW,2BACJ1C,GADG,kBAELiE,EAAIE,OAAO/D,KAAO6D,EAAIE,OAAOC,UAoCtC,OACI,yBAAK9E,UAAU,mBACX,uCACA,0BAAMA,UAAU,gBACZ,yBAAKA,UAAU,kBACX,2BACI+E,YAAY,OACZC,KAAK,OACLlE,KAAK,OACLgE,MAAOpE,EAAQI,KACfmE,SAAUP,IAEd,2BACIK,YAAY,WACZC,KAAK,OACLlE,KAAK,WACLgE,MAAOpE,EAAQZ,SACfmF,SAAUP,IAEd,2BACIK,YAAY,OACZC,KAAK,OACLlE,KAAK,OACLgE,MAAOpE,EAAQM,KACfiE,SAAUP,IAEd,2BACIK,YAAY,OACZC,KAAK,OACLlE,KAAK,OACLgE,MAAOpE,EAAQO,KACfgE,SAAUP,KAQlB,yBAAK1E,UAAU,QACX,qCACA,2BACI+E,YAAY,OACZC,KAAK,OACLlE,KAAK,YACLgE,MAAOzB,EAAaP,UACpBmC,SA9Ee,SAACN,GAChCA,EAAIC,iBACJtB,EAAgB,2BACTD,GADQ,kBAEVsB,EAAIE,OAAO/D,KAAO6D,EAAIE,OAAOC,YA4EtB,4BAAQ9E,UAAU,MAAMN,QAzGxB,SAACiF,GACbA,EAAIC,iBACJpB,EAAa,GAAD,mBAAKD,GAAL,CAAgBF,KAC5BC,EAAgB,eACTT,MAqGK,YAEIU,EAAUd,KAAI,SAAAC,GACV,OAAO,uBAAGC,IAAKD,EAAEI,WAAW,0BAAMoC,KAAK,MAAMC,aAAW,IAA5B,gBAArB,KAAgEzC,EAAEI,UAAU,0BAAMoC,KAAK,MAAMC,aAAW,IAA5B,kBAA0C,kCAIzI,yBAAKnF,UAAU,UACX,uCACA,2BACI+E,YAAY,SACZC,KAAK,OACLlE,KAAK,aACLgE,MAAOrB,EAAMP,WACb+B,SAtEM,SAACN,GACvBA,EAAIC,iBACJlB,EAAS,2BACFD,GADC,kBAEHkB,EAAIE,OAAO/D,KAAO6D,EAAIE,OAAOC,YAoEtB,4BAAQ9E,UAAU,MAAMN,QAjHvB,SAACiF,GACdA,EAAIC,iBACJhB,EAAa,GAAD,mBAAKD,GAAL,CAAgBF,KAC5BC,EAAS,eACFD,MA6GK,cAEIE,EAAUlB,KAAI,SAAAC,GACV,OAAO,uBAAGC,IAAKD,EAAEQ,YAAY,0BAAMgC,KAAK,MAAMC,aAAW,IAA5B,gBAAtB,KAAiEzC,EAAEQ,WAAW,0BAAMgC,KAAK,MAAMC,aAAW,IAA5B,kBAA0C,kCAI3I,6BACA,6BACA,6BACA,4BAAQnF,UAAU,MAAMN,QAjNjB,SAACiF,GAChBA,EAAIC,iBACJ,IAAIQ,EAASzF,aAAaa,QAAQ,UAClCY,QAAQC,IAAI,UAAY+D,GACxBlE,IACK+C,KADL,0DAC6DmB,EAD7D,aACgF1E,GAC3EyB,MAAK,SAAAC,GACFlB,IACKgB,IAAI,sDACJC,MAAK,SAAAC,GACF,IACI0B,EADO1B,EAAIC,KAAKgD,QAAO,SAAA3C,GAAC,OAAIA,EAAE5B,OAASJ,EAAQI,QAC9B,GAAGD,GACxBgD,EAAiBC,GACjBQ,EAAkBR,GAClBnD,EAAK,WAGhB2B,OAAM,SAAAC,GAAG,OAAInB,QAAQC,IAAI,cAgMtB,oB,YCtPDiE,EAXIC,MAAaC,MAAM,CAClCC,SAAUF,MAETG,SAAS,wBACVC,SAAUJ,MAETG,SAAS,0B,ioBCEd,IAAME,EAAiBrG,IAAOC,IAAV,KAgCdqG,EAAmB,CACrBJ,SAAU,GACVE,SAAU,IAERG,EAAqB,CACvBL,SAAU,GACVE,SAAU,IAGC,SAASI,IAAS,IACrBpF,EAASC,cAATD,KADoB,EAEUmB,mBAAS+D,GAFnB,mBAErBG,EAFqB,KAERC,EAFQ,OAGQnE,mBAASgE,GAHjB,mBAGrBI,EAHqB,KAGTC,EAHS,KAYtBC,EAAgB,SAAAC,GAAU,IAAD,EACLA,EAAMxB,OAArB/D,EADoB,EACpBA,KAAMgE,EADc,EACdA,MAEbS,IACOD,EAAYxE,GAClBwF,SAASxB,GACT3C,MAAK,SAAAoE,GACJJ,EAAc,2BACTD,GADQ,kBAEVpF,EAAO,SAGXwB,OAAM,SAAAC,GACL4D,EAAc,2BACTD,GADQ,kBAEVpF,EAAOyB,EAAIiE,OAAO,SAGvBP,EAAe,2BACVD,GADS,kBAEXlF,EAAOgE,MAGR2B,EAAc,WAchBvF,IACC+C,KAAK,iBAAkB+B,GACvB7D,MAAK,SAAAC,GACFhB,QAAQC,IAAIe,GACZzC,aAAa+G,QAAQ,QAAStE,EAAIC,KAAKlB,OACvCxB,aAAa+G,QAAQ,WAAYV,EAAYP,UAC7C9E,EAAK,oBAER2B,OAAM,SAAAC,GAAG,OAAInB,QAAQC,IAAR,uBAA4BkB,QAG9C,OACI,kBAACqD,EAAD,CAAgB5F,UAAU,mBACtB,+CACA,2CACI,2BACAgF,KAAK,OACLD,YAAY,WACZjE,KAAK,WACLgE,MAAOkB,EAAYP,SACnBR,SAAUmB,IAEV,yBAAKpG,UAAU,cAAckG,EAAWT,WAChC,6BACZ,2CACI,2BAAO5E,GAAG,YACVmE,KAAK,WACLD,YAAY,WACZjE,KAAK,WACLgE,MAAOkB,EAAYL,SACnBV,SAAUmB,IAEV,yBAAKpG,UAAU,cAAckG,EAAWP,WACpC,6BACR,kBAAC,IAAD,CAAM1F,GAAG,aAAY,iDACrB,4BAAQY,GAAG,eAAenB,QA9EjB,SAAA2G,GACbA,EAAMzB,iBACN6B,IACAR,EAAeJ,KA2EX,WCtIZ,IAWeP,EAXIC,MAAaC,MAAM,CACpCC,SAAUF,MAEPoB,IAAI,EAAG,0CACPjB,SAAS,wBACZC,SAAUJ,MAEPoB,IAAI,EAAG,0CACPjB,SAAS,0B,qqBCRd,IAAMkB,EAAYrH,IAAOC,IAAV,KA4BTqH,EAAYtH,IAAOC,IAAV,KCrBTsH,EAAoB,CAEtBrB,SAAU,GACVE,SAAU,IAIRoB,EAAoB,CAEtBtB,SAAU,GACVE,SAAU,IAIRqB,EAAe,GAGN,SAASC,EAAa1G,GAAO,MAIduB,mBAASkF,GAJK,mBAIjCE,EAJiC,KAI1BC,EAJ0B,OAKJrF,mBAASiF,GALL,mBAKjCb,EALiC,KAKrBC,EALqB,OAMJrE,mBAASgF,GANL,mBAMjCM,EANiC,KAMrBC,EANqB,OAORvF,oBATZ,GAEoB,mBAOjCwF,EAPiC,KAOvBC,EAPuB,KAUlCC,EAAU5G,cAoBV6G,EAAc,SAACC,GAAO,IAAD,EACCA,EAAE7C,OAAlB/D,EADe,EACfA,KAAMgE,EADS,EACTA,MAEdS,IACOD,EAAYxE,GAClBwF,SAASxB,GACT3C,MAAK,SAAAoE,GACJJ,EAAc,2BACTD,GADQ,kBAEVpF,EAAO,SAGXwB,OAAM,SAAAC,GACL4D,EAAc,2BACTD,GADQ,kBAEVpF,EAAOyB,EAAIiE,OAAO,SAIvBa,EAAc,2BACTD,GADQ,kBAEVtG,EAAOgE,MA0Bd,OAPA7C,qBAAU,WACNqD,EAAWqC,QAAQP,GAAYjF,MAAK,SAAAoE,GAClCgB,GAAahB,QAEd,CAACa,IAIF,0BAAMQ,SAnBK,SAACF,GACZA,EAAE9C,iBA9Cc,SAAAiD,GAChBC,IAAM7D,KAAK,0DAA2D4D,GACrE1F,MAAK,SAAAC,GACJ+E,EAAS,CAAC/E,EAAIC,MAAN,mBAAe6E,KACvBvH,aAAa+G,QAAQ,SAAUtE,EAAIC,KAAKA,KAAKxB,IAC7ClB,aAAa+G,QAAQ,WAAYtE,EAAIC,KAAKA,KAAKoD,UAC/C4B,EAAcP,GACd1F,QAAQC,IAAIe,EAAIC,KAAM,wBACtBmF,EAAQ7G,KAAK,aAEd2B,OAAM,SAAAC,GACLnB,QAAQC,IAAI,iBAwCd0G,CAJgB,CACdtC,SAAU2B,EAAW3B,SAASuC,OAC9BrC,SAAUyB,EAAWzB,SAASqC,WAgBhC,kBAACpB,EAAD,CAAW5G,UAAU,cACjB,iDACA,2CACI,2BACAiF,SAAUwC,EACV1C,YAAY,iBACZjE,KAAK,WACLkE,KAAK,UAGT,+CACI,2BACAC,SAAUwC,EACV1C,YAAY,qBACZjE,KAAK,WACLkE,KAAK,cAGT,kBAAC,IAAD,CAAM/E,GAAG,UAAS,qCAClB,4BAAQY,GAAG,eAAeyG,SAAUA,GAApC,aAEA,kBAACT,EAAD,CAAW7G,UAAU,UACrB,uBAAGa,GAAG,YAAYqF,EAAWT,UAC7B,uBAAG5E,GAAG,YAAYqF,EAAWP,YC5HzC,IAAM/C,EAAc,CAChB9B,KAAM,GACNC,KAAM,GACNjB,SAAU,GACVkB,KAAM,GACNC,KAAM,IAkBK,SAASgH,IAAkB,IAAD,EACPnG,mBAASc,GADF,mBAC9BlC,EAD8B,KACrB0C,EADqB,OAEXtB,mBAAS,IAFE,mBAE9BoG,EAF8B,KAEvBC,EAFuB,OAGTrG,mBAAS,IAHA,mBAG9BsG,EAH8B,KAGtBC,EAHsB,OAIPvG,mBAAS,IAJF,mBAI9BiB,EAJ8B,KAIrBuF,EAJqB,OAKDxG,mBAAS,IALR,mBAK9ByG,EAL8B,KAKlBC,EALkB,KAMjCC,EAAc,GAEZC,EAASC,cAyDf1G,qBAAU,WArDNf,IACKgB,IADL,6DAC+DwG,EAAO7H,KACjEsB,MAAK,SAAAC,GACFgB,EAAWhB,EAAIC,SAElBC,OAAM,SAAAC,GAAG,OAAInB,QAAQC,IAAI,cAkD/B,IAEHY,qBAAU,WAzBDvB,EAAQG,IAEbK,IACKgB,IADL,6DAC+DxB,EAAQG,GADvE,WAEKsB,MAAK,SAACC,GACH+F,EAAS/F,EAAIC,SAEhBC,OAAM,SAACC,GAAD,OAASnB,QAAQC,IAAIkB,EAAIqG,eAoBrC,CAAClI,IAEJuB,qBAAU,YArDe,SAAnB4G,EAAoBxE,GACjB6D,EAAM1F,SAEXpB,QAAQC,IAAI,UAAYmD,KAAKC,UAAUyD,IACvC9G,QAAQC,IAAI,WAAamD,KAAKC,UAAU1B,GAAW,sBAAwByB,KAAKC,UAAL,eAAoB1B,KAE/F7B,IACKgB,IADL,0DAC4DgG,EAAM7D,GAAGxD,KAChEsB,MAAK,SAAAC,GACFqG,EAAYP,EAAM7D,GAAGxD,IAAMuB,EAAIC,KAAKU,QAChCsB,IAAM6D,EAAM1F,OAAS,GACrBpB,QAAQC,IAAI,wBAA0BmD,KAAKC,UAAUgE,IACrDH,EAAW,eAAKG,MAEhBrH,QAAQC,IAAI,MAAQgD,EAAI,kBAAoB6D,EAAM1F,UAClD6B,EACQ6D,EAAM1F,QACVqG,EAAiBxE,QAsCjCwE,CADmB,KAEpB,CAACX,IAEJjG,qBAAU,WAvBDvB,EAAQG,IAEbK,IACKgB,IADL,6DAC+DxB,EAAQG,GADvE,YAEKsB,MAAK,SAAAC,GACFiG,EAAUjG,EAAIC,SAEjBC,OAAM,SAAAC,GAAG,OAAInB,QAAQC,IAAI,cAkB/B,CAACX,IAEJuB,qBAAU,WACN6G,MACD,CAAC/F,IAEJ,IAiBM+F,EAAiB,WAGnB,IAAI9E,EAAW,GACf+E,OAAOC,OAAOjG,GAASN,KAAI,SAAAC,GACb,IAANA,GACAsB,EAASrD,KACLO,IACKgB,IADL,0DAC4DQ,IACvDP,MAAK,SAAAC,GACF,OAAO,eAAGM,EAAIN,EAAIC,KAAKoD,aAE1BnD,OAAM,SAAAC,GAAG,OAAInB,QAAQC,IAAI,gBAI1C6C,QAAQC,IAAIH,GAAU7B,MAAK,SAAAiC,GACvB,IAAI6E,EAAU,GACd,IAAK,IAAI5E,KAAKD,EACV6E,EAAO,2BAAQA,GAAY7E,EAAQC,IAEvCmE,EAAcS,GACd7H,QAAQC,IAAI,WAAamD,KAAKC,UAAUwE,QAUhD,OAAKvI,EAAQG,IAGbO,QAAQC,IAAI6G,GACZ9G,QAAQC,IAAIX,GACZU,QAAQC,IAAI,YAAcmD,KAAKC,UAAU1B,IACzC3B,QAAQC,IAAI,eAAiBmD,KAAKC,UAAU8D,IAExC,yBAAKvI,UAAU,mBACX,uCACA,4BAAKU,EAAQI,MACb,4BAAKJ,EAAQK,MACb,2BAAIL,EAAQM,KAAK,8BACjB,2BAAIN,EAAQO,KAAK,8BACjB,2BAAIP,EAAQZ,SAAS,8BACrB,yCACA,6BAEQoI,EAAMzF,KAAI,SAAAC,GACN,OAAO,uBAAGC,IAAKD,EAAE7B,IACZ6B,EAAEI,UADA,MACcC,EAAQL,EAAE7B,KAAO0H,EAAWxF,EAAQL,EAAE7B,KAAtC,qBAA0D0H,EAAWxF,EAAQL,EAAE7B,MAAS,YACzG,+BACMkC,EAAQL,EAAE7B,KACR,4BAAQnB,QAAS,kBAxE9BwJ,EAwE8CxG,EAAE7B,SAvEkB,IAA7EuH,EAAO3F,KAAI,SAAAC,GAAC,OAAIA,EAAEQ,cAAYiG,QAAQxJ,aAAaa,QAAQ,aAI/DU,IACKkI,IADL,0DAC4DF,GAAU,CAC9DnG,QAASpD,aAAaa,QAAQ,YAEjC2B,MAAK,SAAAC,GACFkG,EAAW,2BAAIvF,GAAL,kBACTmG,EAASvJ,aAAaa,QAAQ,gBAGlC8B,OAAM,SAAAC,GAAG,OAAInB,QAAQC,IAAI,YAZ1BgI,MAAM,qDAFI,IAACH,IAwEa,eAwBxB,yCAEId,EAAO3F,KAAI,SAAAC,GACX,OAAO,uBAAGC,IAAKD,EAAE7B,IAAV,IAAgB6B,EAAEQ,WAAlB,MAxDM,SAACA,GACtB,IAAIoG,EAAuBP,OAAOC,OAAOjG,GAASN,KAAI,SAAAC,GAAC,OAAI6F,EAAW7F,MAEtE,OADAtB,QAAQC,IAAIiI,IACyC,IAA9CA,EAAqBH,QAAQjG,GAqDYqG,CAAiB7G,EAAEQ,YAAa,YAAa,gBAjDtF,+DCjIAsG,MArBf,WACE,OACE,kBAAC,IAAD,KACE,yBAAKxJ,UAAU,OAEb,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOyJ,OAAK,EAACC,KAAK,SAAStJ,UAAW2F,IACtC,kBAAC,IAAD,CAAO0D,OAAK,EAACC,KAAK,YAAYtJ,UAAW6G,IACzC,kBAAC,EAAD,CAAcwC,OAAK,EAACC,KAAK,kBAAkBtJ,UAAW+C,IACtD,kBAAC,EAAD,CAAcsG,OAAK,EAACC,KAAK,gBAAgBtJ,UAAWyB,IACpD,kBAAC,EAAD,CAAc4H,OAAK,EAACC,KAAK,eAAetJ,UAAW6H,IACnD,kBAAC,IAAD,CAAOyB,KAAK,KACV,kBAAC,IAAD,CAAUzJ,GAAG,uBCdL0J,QACW,cAA7B9J,OAAOC,SAAS8J,UAEe,UAA7B/J,OAAOC,SAAS8J,UAEhB/J,OAAOC,SAAS8J,SAASC,MACvB,2DCXNC,IAASxJ,OACP,kBAAC,IAAMyJ,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDwHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBjI,MAAK,SAAAkI,GACJA,EAAaC,gBAEdhI,OAAM,SAAAiI,GACLnJ,QAAQmJ,MAAMA,EAAMC,c","file":"static/js/main.2983eb50.chunk.js","sourcesContent":["import styled from 'styled-components'\nconst HeaderStyle = styled.div`\n    display:flex;\n    justify-content: space-around;\n    align-items: center;\n    border-bottom: 1px solid black;\n    margin: 0 0 2% 0;\n    nav{\n        display:flex;\n    }\n    button{\n        width: 100px;\n        margin: 1%;\n        padding: 3px;\n        background-color: white;\n        border: 1px solid black;\n        border-radius: 5px;\n        font-size: 1em;\n        :hover{\n            background-color: lightblue;\n        }\n    }\n    .link{\n        width: 100px;\n        text-align: center;\n        margin: 1%;\n        padding: 3px;\n        text-decoration: none;\n        border: 1px solid black;\n        border-radius: 5px;\n        color: black;\n        font-size: 1em;\n        :hover{\n            background-color: lightblue;\n        }\n    }\n`\nexport { HeaderStyle }","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { HeaderStyle } from \"../styles/StyledHeader\"\n\nconst Header = () => {\n\n    const handleLogout = () => {\n        localStorage.removeItem('token')\n        localStorage.removeItem('userId')\n        localStorage.removeItem('username')\n        window.location.reload()\n    }\n\nreturn (\n    <HeaderStyle>\n        <div>\n        <h1>Potluck Planner</h1>\n        </div>\n        <nav>\n        <button onClick={handleLogout}>Logout</button>\n        <Link className=\"link\" to=\"/potluck-list\">Home</Link>\n        <Link className=\"link\" to=\"/create-potluck\">Host a Potluck</Link>\n        </nav>\n    </HeaderStyle>\n)\n}\nexport default Header","\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n    return (\n        <Route \n            {...rest}\n            render={props =>\n                localStorage.getItem('token') ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect to='/login' />\n                )\n            }\n        />\n    );\n}\n\nexport default PrivateRoute;","import React  from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport default function Potluck({ potluck }) {\n    const { push } = useHistory();\n    \n    return (\n        <div>\n            <button className='Btn' onClick={() => push(`/potluck/${potluck.id}`, potluck)}>\n            <h1>Potluck</h1>\n            <h2>{potluck.name}</h2>\n            <h2>{potluck.host}</h2>\n            <p>{potluck.date}<br /></p>\n            <p>{potluck.time}<br /></p>\n            <p>{potluck.location}<br /></p>\n            </button>\n        </div>\n    )\n};","import axios from 'axios';\n\nexport const axiosWithAuth = () => {\n    const token = localStorage.getItem(\"token\");\n    console.log('token: ' + token);\n    return axios.create({\n        headers: {\n            Authorization: token\n        },\n        baseURL: 'https://potluckplanner1.herokuapp.com'\n    });\n};","import styled from 'styled-components';\n\nconst PotluckListDiv = styled.div`\nwidth: 80%;\nmargin: auto;\ndisplay: flex;\nflex-wrap: wrap;\nalign-items: center;\nposition: relative;\n// background-image: linear-gradient(lightyellow, #faf54e);\nbackground-image: linear-gradient( light green, green);\nborder-radius: 20px;\npadding: 16px;\nbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n`\nconst PotluckDiv = styled.div`\nwidth: 40%;\nmargin-left: 5%;\n.Btn {\n    width: 100%;\n    margin: 10px;\n}\n`\nexport { PotluckListDiv };\nexport { PotluckDiv };","\n//import React, {useState, useEffect} from \"react\"\n//import Potluck from './Potluck';\n//import Axios from \"axios\";\n\n\n//const PotluckList = () => {\n// !!! needed for React 1 MVP for joe, please dont delete sorry about the inconvienience !!!\n\n//     const [guest, setGuest] = useState([])\n// const getGuest = () => {\n//      Axios.get('https://potluckplanner1.herokuapp.com/api/guests')\n//     .then(res => {\n//         console.log(res.data)\n//         setGuest(res.data)\n//     }).catch(err => {\n//         console.log(`the error is ${err}`)\n//     },[])\n// }\n//     const GuestItem = (props) => {\n//         const {details} = props\n//         return (\n//             <div className='guest-container'>\n//                 <h2>{details.name}</h2>\n//             </div>\n//         )\n//     }\n//     useEffect(() => {\n//         getGuest()\n//     },[])\n//     return(\n//         <div className = 'container'>\n//             <Potluck />\n//             {/* {\n//                 guest.map(person => {\n//                     return(\n//                     <GuestItem key={person.id} details={person}/>\n//                     )\n//                 })\n//             } */}\n//         </div>\n\n        \n        \n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Potluck from './Potluck';\nimport {axiosWithAuth} from '../utils/axiosWithAuth';\nimport { PotluckListDiv, PotluckDiv } from '../styles/StyledPotluck';\n\nconst PotluckList = () => {\n    const [potluckList, setpotluckList] = useState([]);\n\n    const fetchPotluckList = () => {\n        axiosWithAuth()\n            .get('https://potluckplanner1.herokuapp.com/api/potlucks')\n            .then(res => {\n                setpotluckList(res.data)\n            })\n            .catch(err => console.log('ERROR'));\n    };\n\n    useEffect(() => {\n        fetchPotluckList();\n    }, []);\n\n    if (!potluckList.length) {\n        return <div>Loading potluck information...</div>;\n    };\n\n\n    return (\n        <PotluckListDiv>\n            {\n                potluckList.map(x => (\n                    <PotluckDiv key={x.id} >\n                        <Potluck potluck={x} />\n                    </PotluckDiv>\n                ))\n            }\n        </PotluckListDiv>\n    )\n};\nexport default PotluckList;\n","import React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { useHistory } from \"react-router-dom\";\n\n// Initialstate⭐️\nconst nextPotluck = {\n    name: '',\n    location: '',\n    date: '',\n    time: ''\n};\n\nconst initialFoodItem = {\n    item_name: '',\n    claimed: 0,\n    potluck_id: ''\n};\n\nconst firstGuest = {\n    guest_name: ''\n};\n// get potlucks\n// {\n//     \"id\": 1,\n//     \"name\": \"joe's potluck\",\n//     \"date\": \"08-01-2020\",\n//     \"time\": \"9:00\",\n//     \"location\": \"california\",\n//     \"host\": \"joe bay\"\n// }\n// get food items\n// {\n//     \"id\": 16,\n//     \"item_name\": \"Chalupas\",\n//     \"claimed\": 0,\n//     \"potluck_id\": 6\n// }\n// get guests\n// {\n//     \"id\": 1,\n//     \"guest_name\": \"John\"\n// }\n// passing the props or setting the state⭐️\nexport default function CreatePotluck() {\n    const { push } = useHistory();\n    const [potluck, setPotluck] = useState(nextPotluck);\n    const [nextFoodItem, setNextFoodItem] = useState(initialFoodItem);\n    const [foodItems, setFoodItems] = useState([]);\n    const [guest, setGuest] = useState(firstGuest);\n    const [guestList, setGuestList] = useState([]);\n\n    const addPotluck = (evt) => {\n        evt.preventDefault();\n        let userId = localStorage.getItem('userId');\n        console.log('userId:' + userId);\n        axiosWithAuth()\n            .post(`https://potluckplanner1.herokuapp.com/api/users/${userId}/potlucks`, potluck)\n            .then(res => {\n                axiosWithAuth()\n                    .get('https://potluckplanner1.herokuapp.com/api/potlucks')\n                    .then(res => {\n                        let list = res.data.filter(x => x.name === potluck.name)\n                        let potluckId = list[0].id\n                        addFoodtoPotluck(potluckId);\n                        addGuesttoPotluck(potluckId);\n                        push('/');\n                    })\n            })\n            .catch(err => console.log('ERROR'));\n    };\n    // const addGuest = (e) => {\n    //     e.preventDefault();\n    //     let userId = localStorage.getItem('userId');\n    //     axiosWithAuth()\n    //         .post(`https://potluckplanner1.herokuapp.com/api/potlucks/${userId}/guests`, guest)\n    //         .then(res => {\n    //             inviteGuest();\n    //             console.log(`${guest}`)\n    //         })\n    // }\n\n    // Adding food to potluck after creating that potluck as it gets an id when created\n    const addFoodtoPotluck = (potluckId) => {\n        // console.log('addFoodtoPotluck called');\n        // console.log('items: ' + JSON.stringify(foodItems));\n        let newList = [...foodItems];\n        let promises = [];\n        newList.map(x => {\n            x.potluck_id = potluckId;\n            promises.push(axiosWithAuth()\n                // .put(`https://potluckplanner1.herokuapp.com/potlucks/${editPotluck.id}`, editPotluck)\n                .post(`https://potluckplanner1.herokuapp.com/api/potlucks/${potluckId}/items`, x)\n                .then(res => {\n                    console.log(res, 'This is the food item')\n                    x.id = res.data.id;\n                    return res.data.id\n                })\n                .catch(err => console.log('ERROR')));\n        })\n        Promise.all(promises).then(results => {\n            for (let i=0; i<results.length; i++) {\n                newList[i].id = results[i];\n            }\n            setFoodItems(newList);\n        })\n    };\n\n    const addGuesttoPotluck = (potluckId) => {\n        let newGuestList = [...guestList];\n        console.log('newGuestList: ' + JSON.stringify(newGuestList));\n        let promises = [];\n        newGuestList.map(x => {\n            promises.push(axiosWithAuth()\n                .post(`https://potluckplanner1.herokuapp.com/api/potlucks/${potluckId}/guests`, x)\n                .then(res => {\n                    x.id = res.data.id;\n                    return res.data.id;\n                })\n                .catch(err => console.log('ERROR')));\n        })\n        Promise.all(promises).then(results => {\n            for (let i=0; i<results.length; i++) {\n                newGuestList[i].id = results[i];\n            }\n            setGuest(newGuestList);\n        })\n\n    };\n\n    const addFood = (evt) => {\n        evt.preventDefault();\n        setFoodItems([...foodItems, nextFoodItem]);\n        setNextFoodItem({\n            ...initialFoodItem\n        });\n    };\n\n    const addGuest = (evt) => {\n        evt.preventDefault();\n        setGuestList([...guestList, guest]);\n        setGuest({\n            ...guest\n        })\n\n    };\n\n    const handleChange = (evt) => {\n        evt.preventDefault();\n        setPotluck({\n            ...potluck,\n            [evt.target.name]: evt.target.value\n        });\n    };\n\n    const handleChangeToNextFoodItem = (evt) => {\n        evt.preventDefault();\n        setNextFoodItem({\n            ...nextFoodItem,\n            [evt.target.name]: evt.target.value\n        })\n    };\n    const handleGuestChange = (e) => {\n        e.preventDefault();\n        setGuest({\n            ...guest,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const removeFood = food => {\n        console.log(foodItems)\n        axiosWithAuth()\n            .delete(`https://potluckplanner1.herokuapp.com/api/potlucks/${potluck.id}/items`, food)\n            .then(res => {\n                console.log(res)\n            })\n    }\n\n    const handleChangeGuest = (evt) => {\n        evt.preventDefault();\n        setGuest({\n            ...guest,\n            [evt.target.name]: evt.target.value\n        });\n    };\n\n    return (\n        <div className='potluck-wrapper'>\n            <h1>Potluck</h1>\n            <form className='details-form'>\n                <div className='create-potluck'>\n                    <input\n                        placeholder='Name'\n                        type=\"text\"\n                        name=\"name\"\n                        value={potluck.name}\n                        onChange={handleChange}\n                    />\n                    <input\n                        placeholder='Location'\n                        type=\"text\"\n                        name=\"location\"\n                        value={potluck.location}\n                        onChange={handleChange}\n                    />\n                    <input\n                        placeholder='Date'\n                        type=\"text\"\n                        name=\"date\"\n                        value={potluck.date}\n                        onChange={handleChange}\n                    />\n                    <input\n                        placeholder='Time'\n                        type=\"text\"\n                        name=\"time\"\n                        value={potluck.time}\n                        onChange={handleChange}\n                    />\n                    {/* {\n                        potluck.map(x => {\n                            return <div key={x.id}>{x}</div>\n                        })\n                    } */}\n                </div>\n                <div className='food'>\n                    <h3>Food:</h3>\n                    <input\n                        placeholder='Dish'\n                        type=\"text\"\n                        name=\"item_name\"\n                        value={nextFoodItem.item_name}\n                        onChange={handleChangeToNextFoodItem}\n                    />\n                    <button className='Btn' onClick={addFood}>Add Item</button>\n                    {\n                        foodItems.map(x => {\n                            return <p key={x.item_name}><span role=\"img\" aria-label=''>🍗</span>  {x.item_name}<span role=\"img\" aria-label=''> 🌭 </span><br /></p>\n                        })\n                    }\n                </div>\n                <div className='guests'>\n                    <h3>Guests:</h3>\n                    <input\n                        placeholder='Guests'\n                        type=\"text\"\n                        name=\"guest_name\"\n                        value={guest.guest_name}\n                        onChange={handleChangeGuest}\n                    />\n                    <button className='Btn' onClick={addGuest}>Add Guests</button>\n                    {\n                        guestList.map(x => {\n                            return <p key={x.guest_name}><span role=\"img\" aria-label=''>🍗</span>  {x.guest_name}<span role=\"img\" aria-label=''> 🌭 </span><br /></p>\n                        })\n                    }\n                </div>\n                <br/>\n                <br/>\n                <br/>\n                <button className='Btn' onClick={addPotluck}>Create Potluck</button>\n            </form>\n        </div>\n    )\n};","import * as yup from 'yup'\n\n\nconst formSchema = yup.object().shape({\n    username: yup\n    .string()\n    .required('Username is required'),\n    password: yup\n    .string()\n    .required('Password is required')\n    \n    \n})\n\nexport default formSchema","// form for the login\nimport React, { useState } from 'react'\nimport axios from 'axios'\nimport { axiosWithAuth } from '../utils/axiosWithAuth'\nimport styled from 'styled-components'\nimport formSchema from './LoginSchema'\nimport * as yup from 'yup'\nimport {Link, useHistory} from 'react-router-dom'\n\n\n// styles for the login\nconst LoginContainer = styled.div`\n    display:flex;\n    flex-flow: column;\n    background-color: #FFFFFF;\n    border-radius: 10px;\n    box-shadow: 5px, 2px;\n    margin-right: 30%;\n    margin-left: 30%;\n    background-color: mistyrose;\n    margin-top: 15%;\n\n    p{\n        font-size: 0.8rem;\n    }\n    button{\n        margin-right: 30%;\n        margin-left: 30%;\n    }\n    button{\n        background-color: wheat;\n        border:0.5px solid black;\n    }\n    .loginError{\n        color:red;\n        font-size:0.8rem;\n    }\n    #passInput{\n        margin-left: 0.6%;\n    }\n    \n`\n\nconst initialLoginValues={\n    username: '',\n    password: '',\n}\nconst initialLoginErrors = {\n    username: '',\n    password: '',\n}\n\nexport default function Login() {\n    const { push } = useHistory();\n    const [loginValues, setLoginValues] = useState(initialLoginValues)\n    const [formErrors, setFormErrors] = useState(initialLoginErrors)\n\n\n    const onSubmit = event => {\n        event.preventDefault();\n        getUserData();\n        setLoginValues(initialLoginValues)\n    };\n\n    const onInputChange = event => {\n        const {name, value} = event.target\n        // some validation, Joe needs for MVP don't delete please\n        yup\n        .reach(formSchema, name) \n        .validate(value)\n        .then(valid => {\n          setFormErrors({\n            ...formErrors,\n            [name]: '',\n          })\n        })\n        .catch(err => {\n          setFormErrors({\n            ...formErrors,\n            [name]: err.errors[0]\n          })\n        })\n        setLoginValues({\n          ...loginValues,\n          [name]: value\n        })\n    }\n    const getUserData = () => {\n        // axios.post('https://potluckplanner1.herokuapp.com/api/auth/login', {\n        //     // login: http post with payload/body\n        //     username: loginValues.username,\n        //     password: loginValues.password\n        // })\n        // .then( res => {\n        //     console.log(res)\n        //     localStorage.setItem('token', res.data.token);\n        //     push('/');\n        // })\n        // .catch(err => {\n        //     console.log(`The error is ${err}`)\n        // })\n        axiosWithAuth()\n        .post('api/auth/login', loginValues)\n        .then(res => {\n            console.log(res)\n            localStorage.setItem('token', res.data.token)\n            localStorage.setItem('username', loginValues.username)\n            push(\"/potluck-list\") //<-- this is really the only thing I changed, good job on your axios call!\n        })\n        .catch(err => console.log(`The error is ${err}`))\n    }\n\n    return (\n        <LoginContainer className=\"login-container\">\n            <h2>Potluck Planner</h2>\n            <label>Username:\n                <input \n                type='text'\n                placeholder='Username'\n                name='username'\n                value={loginValues.username}\n                onChange={onInputChange}\n                />\n                <div className=\"loginError\">{formErrors.username}</div>\n                </label><br/>\n            <label>Password:  \n                <input id=\"passInput\"\n                type='password'\n                placeholder='Password'\n                name='password'\n                value={loginValues.password}\n                onChange={onInputChange}\n                />\n                <div className=\"loginError\">{formErrors.password}</div>\n            </label><br/>\n            <Link to='/register'><p>Create an account</p></Link>\n            <button id='login-button' onClick={onSubmit}>Log in</button>\n        </LoginContainer>\n    )\n}","import * as yup from 'yup'\n\nconst formSchema = yup.object().shape({\n  username: yup\n    .string()\n    .min(8, \"Username must be at least 8 characters\")\n    .required(\"Username is Required\"),\n  password: yup\n    .string()\n    .min(8, \"Password must be at least 8 characters\")\n    .required(\"Password is Required\"),\n})\n\nexport default formSchema","import styled from 'styled-components'\n\nconst RegStyles = styled.div`\n    display:flex;\n    flex-flow: column;\n    background-color: mistyrose;\n    margin-right: 30%;\n    margin-left: 30%;\n    background-color: mistyrose;\n    margin-top: 15%;\n\n    label {\n        margin: 2% 0%;\n    }\n\n    button {\n        border:0.5px solid black;\n        background-color: wheat;\n        width: 50%;\n        margin-top: 1%;\n        margin-left:  25%;\n        margin-right:  25%;\n    }\n\n    p {\n        font-size: 0.8rem;\n    }\n\n`\n\nconst ErrStyles = styled.div`\n    font-size: 0.8rem;\n    color: red;\n    font-style: italic;\n`\n\nexport { RegStyles }\nexport { ErrStyles }","import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport Axios from 'axios'\nimport formSchema from '../validation/formSchema'\nimport * as yup from 'yup'\nimport { RegStyles, ErrStyles } from '../styles/StyledRegistration'\n\n// initial values\n\nconst initialFormValues = {\n\n    username: '',\n    password: '',\n\n    }\n\nconst initialFormErrors = {\n\n    username: '',\n    password: '',\n\n    }\n\nconst initialUsers = []\nconst initialDisabled = true    \n\nexport default function Registration(props) {\n    //props destructuring\n\n    // state\n    const [users, setUsers] = useState(initialUsers)\n    const [formErrors, setFormErrors] = useState(initialFormErrors)\n    const [formValues, setFormValues] = useState(initialFormValues)\n    const [disabled, setDisabled] = useState(initialDisabled);\n\n    //additional hooks (not side effects)\n    const history = useHistory()\n\n\n    // axios calls\n    const postNewUser = newUser => {\n        Axios.post('https://potluckplanner1.herokuapp.com/api/auth/register', newUser)\n        .then(res => {\n          setUsers([res.data, ...users])\n          localStorage.setItem('userId', res.data.data.id)\n          localStorage.setItem('username', res.data.data.username)\n          setFormValues(initialFormValues)\n          console.log(res.data, \"data sent to server!\")\n          history.push(\"/login\");\n        })\n        .catch(err => {\n          console.log(\"Snake eyes\")\n        })\n      }\n\n    // form validation via yup\n    const inputChange = (e) => {\n        const { name, value } = e.target\n\n        yup\n        .reach(formSchema, name)\n        .validate(value)\n        .then(valid => {\n          setFormErrors({\n            ...formErrors,\n            [name]: \"\"\n          })\n        })\n        .catch(err => {\n          setFormErrors({\n            ...formErrors,\n            [name]: err.errors[0]\n          })\n        })\n      \n        setFormValues({\n          ...formValues,\n          [name]: value \n        })\n      }\n\n    // form functionality\n  \n    // .a for new users\n\n    const submit = (e) => {\n        e.preventDefault()\n        const newUser = {\n          username: formValues.username.trim(),\n          password: formValues.password.trim(),\n        } \n        postNewUser(newUser)\n      }\n\n    //side effects\n\n    useEffect(() => {\n        formSchema.isValid(formValues).then(valid => {\n          setDisabled(!valid);\n        });\n      }, [formValues]);\n\n    // return statement\n    return (\n        <form onSubmit={submit}>\n        <RegStyles className='form-input'>\n            <h2>Create An Account</h2>\n            <label>Name:&nbsp;\n                <input\n                onChange={inputChange} \n                placeholder='your name here'\n                name='username'\n                type='text'\n                />\n            </label>\n            <label>Password:&nbsp;\n                <input \n                onChange={inputChange} \n                placeholder='your password here'\n                name='password'\n                type='password'\n                />\n            </label>\n            <Link to='/login'><p>Login</p></Link>\n            <button id=\"register-btn\" disabled={disabled}>Register</button>\n            </RegStyles>\n            <ErrStyles className='errors'>\n            <p id=\"para-one\">{formErrors.username}</p>\n            <p id=\"para-two\">{formErrors.password}</p>\n        </ErrStyles>\n        </form>\n    )\n\n}   ","import React, { useState, useEffect } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { useParams } from 'react-router-dom';\n\nconst nextPotluck = {\n    name: '',\n    host: '',\n    location: '',\n    date: '',\n    time: ''\n};\n\n// get food items\n// {\n//     \"id\": 16,\n//     \"item_name\": \"Chalupas\",\n//     \"claimed\": 0,\n//     \"potluck_id\": 6\n// }\n// get guests\n// {\n//     \"id\": 1,\n//     \"guest_name\": \"Jack\",\n//     \"potluck_id\": 1\n//  }\n\n/* rendering all the details of a potluck on the webpage */\nexport default function PotluckDetails() {\n    const [potluck, setPotluck] = useState(nextPotluck);\n    const [items, setItems] = useState([]);\n    const [guests, setGuests] = useState([]);\n    const [claimed, setClaimed] = useState({});\n    const [userIdName, setUserIdName] = useState({});\n    let claimedDict = {};\n    // const [editFoodItem, seteditFoodItem] = useState(initialFoodItem);\n    const params = useParams();\n\n    // fetching potluck👍\n    const fetchPotluck = () => {\n        axiosWithAuth()\n            .get(`https://potluckplanner1.herokuapp.com/api/potlucks/${params.id}`)\n            .then(res => {\n                setPotluck(res.data)\n            })\n            .catch(err => console.log('ERROR'));\n    };\n\n    const fetchItemDetails = (i) => {\n        if (!items.length)\n            return;\n        console.log('items: ' + JSON.stringify(items));\n        console.log('claimed:' + JSON.stringify(claimed) + ' expanded claimed: ' + JSON.stringify({ ...claimed }));\n\n        axiosWithAuth()\n            .get(`https://potluckplanner1.herokuapp.com/api/items/${items[i].id}`)\n            .then(res => {\n                claimedDict[items[i].id] = res.data.claimed;\n                if (i === items.length - 1) {\n                    console.log('Now setting claimed: ' + JSON.stringify(claimedDict));\n                    setClaimed({ ...claimedDict });\n                } else {\n                    console.log('i: ' + i + ' items.length: ' + items.length);\n                    i++;\n                    if (i < items.length) {\n                        fetchItemDetails(i);\n                    }\n                }\n            })\n    }\n\n    const fetchItemsInPotluck = () => {\n        if (!potluck.id)\n            return;\n        axiosWithAuth()\n            .get(`https://potluckplanner1.herokuapp.com/api/potlucks/${potluck.id}/items`)\n            .then((res) => {\n                setItems(res.data);\n            })\n            .catch((err) => console.log(err.response));\n    };\n\n    const fetchGuests = () => {\n        if (!potluck.id)\n            return;\n        axiosWithAuth()\n            .get(`https://potluckplanner1.herokuapp.com/api/potlucks/${potluck.id}/guests`)\n            .then(res => {\n                setGuests(res.data);\n            })\n            .catch(err => console.log('ERROR'));\n    };\n\n    useEffect(() => {\n        fetchPotluck();\n    }, []);\n\n    useEffect(() => {\n        fetchItemsInPotluck();\n    }, [potluck]);\n\n    useEffect(() => {\n        let currentIndex = 0;\n        fetchItemDetails(currentIndex);\n    }, [items]);\n\n    useEffect(() => {\n        fetchGuests();\n    }, [potluck]);\n\n    useEffect(() => {\n        fetchUserNames();\n    }, [claimed]);\n\n    const claimFood = (itemId) => {\n        if (guests.map(x => x.guest_name).indexOf(localStorage.getItem('username')) === -1 ) {\n            alert(\"You are not on the guestlist, so you can't claim\");\n            return;\n        }\n        axiosWithAuth()\n            .put(`https://potluckplanner1.herokuapp.com/api/items/${itemId}`, {\n                claimed: localStorage.getItem('userId')\n            })\n            .then(res => {\n                setClaimed({...claimed,\n                [itemId]: localStorage.getItem('userId')\n                })\n            })\n            .catch(err => console.log('ERROR'));\n    };\n\n    const fetchUserNames = () => {\n        // claimed = {'56': 4, '55': 1, '45': 3}\n        // userIdName = {'4': 'testuser110', '1': 'lambda', '3': 'someuser'}\n        let promises = [];\n        Object.values(claimed).map(x => {\n            if (x !== 0) {\n                promises.push(\n                    axiosWithAuth()\n                        .get(`https://potluckplanner1.herokuapp.com/api/users/${x}`)\n                        .then(res => {\n                            return { [x]: res.data.username };\n                        })\n                        .catch(err => console.log('ERROR'))\n                )\n            }\n        })\n        Promise.all(promises).then(results => {\n            let newDict = {}\n            for (let i in results) {\n                newDict = { ...newDict, ...results[i] }\n            }\n            setUserIdName(newDict);\n            console.log('newDict:' + JSON.stringify(newDict));\n        })\n    };\n\n    const guestClaimedFood = (guest_name) =>{\n        let namesThatHaveClaimed = Object.values(claimed).map(x => userIdName[x]);\n        console.log(namesThatHaveClaimed);\n        return namesThatHaveClaimed.indexOf(guest_name) === -1 ? false: true;\n    };\n\n    if (!potluck.id) {\n        return <div>Loading potluck information...</div>;\n    };\n    console.log(items);\n    console.log(potluck);\n    console.log('claimed: ' + JSON.stringify(claimed));\n    console.log('userIdName: ' + JSON.stringify(userIdName))\n    return (\n        <div className='potluck-details'>\n            <h1>Potluck</h1>\n            <h2>{potluck.name}</h2>\n            <h2>{potluck.host}</h2>\n            <p>{potluck.date}<br /></p>\n            <p>{potluck.time}<br /></p>\n            <p>{potluck.location}<br /></p>\n            <h3>Food Menu</h3>\n            <div>\n                {\n                    items.map(x => {\n                        return <p key={x.id}>\n                            {x.item_name} - {claimed[x.id] && userIdName[claimed[x.id]]? `claimed by ${userIdName[claimed[x.id]]}` : 'unclaimed'}\n                            <span>\n                                {!claimed[x.id] &&\n                                    <button onClick={() => claimFood(x.id)}>\n                                        Claim\n                                            </button>\n                                }\n                            </span>\n                        </p>\n                    })\n                }\n\n                {/* <input\n                    placeholder='Dish'\n                    type=\"text\"\n                    name=\"item_name\"\n                    value={nextFoodItem.item_name}\n                    onChange={handleChangeToNextFoodItem}\n                />\n                <button className='Btn' onClick={addFood}>Add Item</button>\n                {\n                    foodItems.map(x => {\n                        return <p key={x.item_name}><span role=\"img\" aria-label=''>🍗</span>  {x.item_name}<span role=\"img\" aria-label=''> 🌭 </span><br /></p>\n                    })\n                } */}\n            </div>\n            {/* items.filter(x => x.potluck_id === potluck.id) */}\n            <h3>Guestlist</h3>\n            {\n                guests.map(x => {\n                return <p key={x.id}> {x.guest_name} - {guestClaimedFood(x.guest_name)? 'confirmed': 'pending'}</p>\n                })\n            }\n        </div>\n    )\n};  \n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect, Link } from \"react-router-dom\"\nimport './App.css';\n\nimport Header from \"./components/Header\"\nimport PrivateRoute from \"./components/PrivateRoute\"\nimport PotluckList from \"./components/PotluckList\";\nimport CreatePotluck from './components/CreatePotluck';\nimport Login from './components/Login';\nimport Registration from './components/Registration';\nimport PotluckDetails from './components/PotluckDetails';\n\n\nfunction App() {\n  return (\n    <Router>\n      <div className='app'>\n        {/* <Link to=\"/create-potluck\">Time to gather</Link> */}\n        <Header />\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path='/register' component={Registration} />\n          <PrivateRoute exact path='/create-potluck' component={CreatePotluck} />\n          <PrivateRoute exact path=\"/potluck-list\" component={PotluckList} />\n          <PrivateRoute exact path='/potluck/:id' component={PotluckDetails} />\n          <Route path='/'>\n            <Redirect to='/potluck-list' />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}